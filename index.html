<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>Testerrific</title>
	<link href="https://plus.google.com/GooglePlusId" rel="publisher"/>
	<meta charset="utf-8" />
	<meta name="description" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<meta name="theme-color" content="#333">
	<link rel="shortcut icon" href="favicon.ico" />
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
	
	<link rel="Stylesheet" href="testerrific.css" type="text/css" media="all" />
	
	<style>
	
		body {
			font-family: 'Lato', sans-serif;
			font-size: 17px;
		}
	
		.container {
			margin: 10vh 0 10vh calc(50vw - 350px - 250px);
			max-width: 700px;
		}
		
		h1 {
			font-size: 3rem;
			color: #ff5c75;
		}
		
		h2 {
			font-size: 1.2rem;
			margin: -1.5em 0 1.5em;
			color: #666;
		}
		
		h2:focus {
			color: #ff5c75;
		}
		
		h3 {
			margin: 1em 0 .3em;
			outline: none;
		}
		
		p {
			
		}
		
		button {
			padding: 0.4em 0.8em;
			background: #333;
			color: #fff;
			border: none;
			border-radius: 3px;
			outline: none;
			transition: background .2s ease-in-out;
			font-family: 'Lato', sans-serif;
		}
		
		button:hover,button:focus,button:active {
			background: #ff5c75;			
		}
		
		code {
			position: relative;
			display: block;
			margin: 0 0 3em;
			padding: 0 1.5em;
			background: #ddd;
			font-family: Menlo, Consolas, DejaVu Sans Mono, monospace;
			white-space: pre-wrap;
			font-size: .9rem;
		}
		
		code button {
			position: absolute;
			top: 10px;
			right: 10px;
		}
		
		a {
			color: #ff5c75
		}
		
		a:hover,a:focus,a:active {
			color: #4f1922;
		}
		
		
		hr {
			margin: 5em 0;
			border: none;
			border-top: 3px solid #aaa;
		}
		
		.clear_tests {
			position: fixed;
			top: 20px;
			right: calc(50vw - 350px - 280px);
			padding: 10px;
			background: #fff;
			z-index: 10;
		}
		
		.clear_tests button {
			background: #ff5c75;
			padding: .5em 1em;
			font-size: 1rem;
		}
	
	</style>
	
	
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="testerrific.js"></script>
	
</head>

<body>
	
	
	<div class="container">
			
		<h1>Testerrific</h1>
		
		<h2>Test your code without the hassle</h2>
		
		<div class="clear_tests">
			<button onclick="tt.groups = []">Clear all tests</button>
		</div>
		
		
		<div class="toc">
			<ul>
				<li><a href="#getting_started">Getting Started</a></li>
				<li>
					<a href="#test_groups">Test Groups</a>
					<!-- <ul>
						<li>Options</li>
					</ul> -->
				</li>
				<li>
					<a href="#creating_tests">Creating Tests</a>
					<!-- <ul>
						<li>Options</li>
					</ul> -->
				</li>
				<li>
					<a href="#events">Events</a>
					<!-- <ul>
						<li>Options</li>
					</ul> -->
				</li>
				<li>
					<a href="#other_tips">Other Tips</a>
				</li>
			</ul>
		</div>
		
		
		<hr>
			
		
		
		
		<h2 id="getting_started">Getting Started</h2>
		
		<p>So simple!</p>
		
		<code class="run_on_load">
tt.group('First Test Group')

tt.test('1 + 1 == 2')
tt.test('window.innerHeight > 200')
tt.test('"Testerrific is great"') <button>Run</button>
		</code>
		
		
		
		<hr>
			
		
		
		<h3 id="test_groups">Test Groups</h3>
		
		<p>asdfasfasf</p>
		
		<p>
		options:		object that can contain the following values:<br>
			label:		string, label of test<br>
			skip: 		boolean, whether to skip this test or not<br>
			only: 		boolean, whether to run only this test or not<br>
			collapse:	boolean, whether tests are shown or not<br>
			beforeEach:	function that gets run before each test in group<br>
			afterEach:	function that gets run after each test in group<br>
		</p>
		
		<code class="run_on_load">
tt.group("Test Group Two"); <button>Run</button>
		</code>
		

		
		<hr>
		
		
		
		<h3 id="creating_tests">Creating Tests</h3>
		
		<p>asdfasfasf</p>
		
		<p>
		label:		string that describes test<br>
		check: 		string that evals to true/false. Eg. "x == 3"<br>
					OR 	a function that returns true/false. Eg. () => { return x == 3 }. Currently only works with non-async functions<br>
		options:		(object) that can contain the following optional values:<br>
			skip: 		(boolean) whether to skip this test or not<br>
			only: 		(boolean) whether to run only this test or not<br>
			wait_for_element:	(string) CSS or jQuery selector string of matching element(s). Test will not run until element is 100% visible<br>
			max_time:	Amount of time to wait for a truthy response. If blank, test will only test what value currently is<br>
			run_if:		(string that evals to truthy/false) Conditional that determines if test should be run<br>
			message: 	(string) Message shown in UI for the duration of the test, usually instructions for tests that need manual intervention<br>
			group:		(string or integer) The title or the group index of the group the test should be added to<br>
			position:	(integer) Position within a group the test should be inserted (starting from 0)<br>
			before:		(function/promise) gets run before test<br>
			after:		(function/promise) that gets run after test<br>
		</p>
		
		
		
		<h3>Basic test</h3>
		
		<p>Test if a string evaluates as truth-y or false-y</p>
				
		<code class="run_on_load">
tt.test("1 > 0"); <button>Run</button>
		</code>
		
		
		<h3>Labels</h3>
		
		<code class="run_on_load">
tt.test("2. Is '1' a positive number?", "1 > 0"); <button>Run</button>
		</code>
		
		
		<h3>Test as function</h3>
		<code class="run_on_load">
tt.test("3. Is today Thursday?", () => {
	return (new Date()).getDay() == 4
}); <button>Run</button>
		</code>
		
		
		
				
				
		<h3>Async tests</h3>
		resolve with true or false
		<code class="run_on_load">
tt.test("Is today Thursday?", () => {
	return new Promise(function(resolve, reject) {
		setTimeout(() => {
			reject(true)	
		}, 3000)
	})
}); <button>Run</button>
		</code>
		
		
		<h3>skip</h3>
		<p>Skipped tests are only disabled when the tests are first loaded. You can always enable a 'skipped' test or run it manually.</p>
		
		<code class="run_on_load">
tt.test('4. Skip example', '4 == 4', { skip: 1 }) <button>Run</button>
		</code>
		
		
		
		<h3>only</h3>

		<h3>wait_for_element</h3>
		
		
		<h3>max_time</h3>
		<code class="run_on_load">
tt.test('5. Max Time example (wait 3 sec)', '1 > 2', { max_time: 3000 }) <button>Run</button>
		</code>
		
		
		
		<h3>run_if</h3>
		<code class="run_on_load">
b = 3;

tt.test('6. run_if example (run_if == false)', '1 > 0', { 
	run_if: 'b == 2' 
});

tt.test('7. run_if example (run_if == true)', '1 > 0', { 
	run_if: 'b == 3' 
}); <button>Run</button>
		</code>

		
				
		<h3>message</h3>
		<code class="run_on_loadd">
tt.test('8. Message example', 'a != 3', { message: 'Just saying hello!', max_time: 300 }) <button>Run</button>
		</code>
		

		
		<h3>group (string or int) & position (int)</h3>
		<p>If not position is given, the test will be added to the end of "group"</p>
		
		
		<h3>before & after</h3>
		<p>(function/promise) gets run before/after test</p>
	
	
		<hr>
		
		
		
		<h3>Run</h3>
		
		<p>label, fn, options (basically the same options as test())</p>
		<p>'fn' Can either be a function that returns truthy/falsey or a promise. If a promise is given, tests will wait for promise to resolve before continuing to next test.</p>

		
		<code class="run_on_loadd">
<b>tt.run("change a to -3", () => { a = -3 });</b>
tt.test("Is a still positive?", "a > 0"); <button>Run</button>
		</code>
		
		
		
		
		
		<h3>tt.wait()</h3>
		
		<code class="run_on_loadd">
tt.wait(300); <button>Run</button>
		</code>
		
		
		<h3>tt.pause()</h3>
		<code class="run_on_loadd">
tt.pause(); <button>Run</button>
		</code>
		
		
		<code class="run_on_loadd">
<b>tt.run("change a to -3", () => { a = -3 });</b>
tt.test("Is a still positive?", "a > 0");
		</code>
		
		<hr>
		
		
		<h2>Events</h2>
		
		<h3>start_tests()</h3>
		<code>
tt.start_tests(); <button>Run</button>
		</code>
		
		
		<h3>pause_tests()</h3>
		<p>Note: the tests will only get paused at the conclusion of the current test</p>
		<code>
tt.pause_tests(); <button>Run</button>
		</code>
				
		<h3>resume_tests()</h3>
		<code>
tt.resume_tests(); <button>Run</button>
		</code>
		
		
		<h3>tt.run_test(group_index, test_index)</h3>
		<code>
tt.run_test(0,3); <button>Run</button>
		</code>
		
		<h3>tt.pass_test(group = tt.current_group, test = tt.current_test)</h3>
		<p>You can use this to pass tests triggered by outside actions, such as...</p>
		<code>
tt.pass_test(0,3); <button>Run</button>
		</code>
		
		<h3>tt.fail_test(group = tt.current_group, test = tt.current_test)</h3>
		<code>
tt.fail_test(0,3); <button>Run</button>
		</code>
		
		<h3>tt.skip_test(group = tt.current_group, test = tt.current_test)</h3>
		<code>
tt.skip_test(0,3); <button>Run</button>
		</code>
		
		<h3>tt.run_next_test()</h3>
		<code>
tt.run_next_test(); <button>Run</button>
		</code>
		
		<h3>tt.finish_tests()</h3>
		<code>
tt.finish_tests(); <button>Run</button>
		</code>
		
		<h3>tt.reset_tests()</h3>
		<code>
tt.reset_tests(); <button>Run</button>
		</code>
		
		<h3>tt.alert(message, time_limit = 999999)</h3>
		<code>
tt.alert('You obviously love to press the buttons', 300); <button>Run</button>
		</code>
		
		<h3>tt.toggle_tests_panel()</h3>
		<code>
tt.toggle_tests_panel(); <button>Run</button>
		</code>
		
		
		<h3>tt.enable_all_groups()</h3>
		<code>
tt.enable_all_groups(); <button>Run</button>
		</code>
		
		<h3>tt.disable_all_groups()</h3>
		<code>
tt.disable_all_groups(); <button>Run</button>
		</code>
		
		<h3>tt.collapse_all_groups()</h3>
		<code>
tt.collapse_all_groups(); <button>Run</button>
		</code>
		
		<h3>tt.expand_all_groups()</h3>
		<code>
tt.expand_all_groups(); <button>Run</button>
		</code>
		
		<h3>tt.toggle_view_group(group_index) </h3>
		<code>
tt.toggle_view_group(0); <button>Run</button>
		</code>		
		
		<h3>tt.toggle_skip_group(group_index)</h3>
		<code>
tt.toggle_skip_group(0); <button>Run</button>
		</code>
		
		<h3>tt.toggle_skip_test(group_index, test_index)</h3>
		<code>
tt.toggle_tests_panel(); <button>Run</button>
		</code>
		<button onclick="tt.toggle_skip_test(0, 3)">Run</button>
		
		<h3>tt.totals(type = 'all', [group_index]) ... allows 'all', 'run', 'passed', 'failed', 'skipped', or 'error'</h3>
		<p>asdfafasdf</p>
		<code>
alert(`
all: ${tt.totals()}
passed: ${tt.totals('passed')}
passed: ${tt.totals('skipped', 1)}
`); <button>Run</button>
		</code>
	
	
		<hr>
	
		<h2>Other Settings</h2>
		
		<p>Because Testerrific's UI is reactive, you can manipulate a number of aspects by changing the <b>tt</b> object</p>
		
		
		<h3>max_time</h3>
		<p>tt.max_time = 1000</p>
		
		
		<code>
tt.visible = !tt.visible; <button>Run</button>
		</code>
		
		
		
		<p>To start with the Testerrific panel closed, for instance, simply add this to your code that gets run on page load:</p>
		<code>
tt.visible = false; <button>Run</button>
		</code>
		
		<p>Each group and test is an element in an array (tt.groups). To start with all of the test groups closed, simply add this to your code:</p>
		<code>
tt.groups.forEach((group) => { group.collapse = true });
		</code>


		<p>To skip a test programmatically, simply set the `skip` property for that test to true/false in the tt.groups array. This code will re-enable Test #4 in Group 1:</p>
		<code>
tt.groups[0].tests[3].skip = false; <button>Run</button>
		</code>
		
		
		<p>Run tests on keystroke</p>
		<code class="run_on_load">
$(window).keydown(function(event) {
	if(event.metaKey = true && event.key == 'g') {
		event.preventDefault();
		event.stopPropagation();
		tt.start_tests();
	}
}) <button>Run</button>
		</code>
		
		
		
		<script>
		
		$(document).ready(function() {
			
			
			$('a[href*="#"]').click(function(e) {
				e.preventDefault();
				var target = $(this.hash);
				$('html, body').animate({
				  scrollTop: target.offset().top - 50
				}, 1000, function() {
					// var $target = $(target);
					target.attr('tabindex','-1');
					target.focus();
				})
			})
			
			$('.run_on_load').each(function() {		
				$clone = $(this).closest('code').clone()
				$clone.find('button').remove()
				eval($clone.text())
			})
		})
		
		
		$('code button').click(function() {			
			$clone = $(this).closest('code').clone()
			$clone.find('button').remove()
			eval($clone.text())
		})
		</script>
	</div>

</body>
</html>